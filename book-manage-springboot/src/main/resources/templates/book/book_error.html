<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>
</head>
<body>

    <div th:insert="/book/book_layout::body"></div>

	<div class="p-4 sm:ml-64 text-lg">
	    <div class="p-4 mt-14">
	    	<h1 class="text-4xl font-bold mb-3">에러가 발생하였습니다!</h1>
		    <div class="error-details">
		        <p><strong>요청 URL:</strong> <span th:text="${request.getRequestURI()}"></span></p>
		        <p><strong>오류 메시지:</strong> <span th:text="${message}"></span></p>
		
		        <h2 class="mt-3 text-1xl font-bold">오류 상세 내용</h2>
		        <button class="mt-2 toggle-button border" onclick="toggleDetails()">보기</button>
		        <ul id="error-details-list" class="hidden">
		            <li th:each="line : ${stackTrace}" th:text="${line.toString()}"></li>
		        </ul>
		    </div>
		
		    <script>
		        function toggleDetails() {
		            const detailsList = document.getElementById("error-details-list");
		            const button = document.querySelector(".toggle-button");
		            if (detailsList.classList.contains("hidden")) {
		                detailsList.classList.remove("hidden");
		                button.textContent = "숨기기";
		            } else {
		                detailsList.classList.add("hidden");
		                button.textContent = "보기";
		            }
		        }
		    </script>
	    </div>
	</div>     

</body>
</html>